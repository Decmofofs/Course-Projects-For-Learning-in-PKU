
# Practice-of-C&C++-Programming-QTLAB Project

## Introduction
    本项目是三人小组"不知道取啥名队"(组长陆**，组员范**，张**)在课程"程序设计实习"完成的大作业.本项目原则上基于C/C++实现，其中使用少量QML代码制作3D引擎以展现3D效果.
    
    本项目基于Qt开源框架，旨在实现基于ValueNoise，PerlineNoise等算法的随机地形生成，并提供bmp等高线图、3D预览图等多种地形查看形式.
     
    以下指南将介绍在本地计算机构建、运行该项目的流程.

## Build

### Enviroment Requirement
    本项目基于 Qt Enterprise 6.7.1 或 6.7.2 实现.目前只适配了Windows11系统.使用时，您可以:
        1.在本机下载完整的Qt Enterprise / Qt Education 软件并构建;
        2.使用提供的Release中给出的环境.

    下面详细介绍一下第一种方法:
    
        1.若您已有Qt License for Business或Qt License for Education，可以在Qt官网https://www.qt.io/zh-cn/登陆账号，下载Online Installer;否则，如您是学生，请到https://www.qt.io/qt-educational-license根据提示获取免费的Education License，然后下载Online Installer.
        2.打开Online Installer， 按提示登入账号， 选择Qt 6.7 for desktop development 组件安装.
        3.找到您的Qt安装目录，这里假设是默认的C:\Qt.
        4.找到环境变量编辑设置，在系统变量栏找到Path，打开后新建:C:\Qt\6.7.2\mingw_64\bin，单击确定并退出.(这里6.7.2因您安装时的版本号而异)
### Build Process
    若您采用第一种方法，请按如下方法构建:
        完整下载本项目的文件夹QTLAB.双击QTLAB.pro，Qt Creator将自动打开.点
        击左下角的绿色箭头即可自动构建程序并启动.
    
    若您采用第二种方法:
        请您解压zip文件，找到mingw64/bin/QTLAB.exe，双击启动.

    此时，正常情况下您可以开始体验项目功能.

## Features
    您在主界面处，应能看到左上角的"帮助"按钮，以及居中的四种算法.
    请您阅读帮助按钮中的内容，或者查看下述功能说明，了解各算法及使用方法.

### Value Noise
    Value Noise 算法是一种用于生成或模拟自然现象的噪声算法，常用于计算机图形学中生成纹理、地形等.它是一种基于格点（网格的顶点）的噪声生成方法，通过在每个格点上随机分配值，然后对这些值进行插值来生成整个网格上的噪声值.这种方法可以产生平滑的、连续的噪声图案，适用于创建多种自然效果，如云彩、山脉或其他纹理.

    若要使用此算法，请您在主界面点击相应按钮，进入新界面.该界面左下角处，您可以调整图例颜色、图例对应高度；右方，您可以调整投影图长、宽，采样点间隔.若要设置种子，请点击setseed，输入-1则是随机种子.设置完毕后，首先点击生成地形，等待一段时间，点击查看地形图.您还可以在右下角点击3Dview按钮，这会生成一个新窗口.您可以使用WASD和鼠标移动视角来观察地形.
### Perlin Noise
    Perlin Noise是一种广泛使用的程序生成噪声算法，由Ken Perlin在1983年开发，主要用于计算机图形学中生成自然现象的纹理，如火、烟、水、云以及各种材质表面等.与Value Noise相比，Perlin Noise生成的噪声更加自然和连续，没有那么明显的方向性，因此它在生成自然景观和纹理方面特别受欢迎.

    使用此算法的基本步骤与Value Noise类似.
### MidPoint Displacement
    Midpoint Displacement是一种用于生成分形地形或其他自然现象的算法，特别适用于创建山脉或岛屿等自然景观的高度图.这种算法通过递归地细分线段或平面，并在每次细分时对中点进行随机位移，从而生成具有自然变化的图案.中点位移算法是一种简单而强大的技术，能够以相对低的计算成本生成复杂的自然形态.

    使用此算法需要提供的参数有所不同.您需要在右方提供地图长、宽，还需要输入投影图四角对应的初始高度，以及初始迭代的随机噪声范围.该范围是一个double类型小数.
    您需要提供足够的地图长宽，每次迭代时，随机噪声范围会逐步缩小.这样，一定迭代次数后，地图的细节会变得平滑.
### Hydraulic Erosion
    Hydraulic Erosion算法模拟自然界中水流对地形的侵蚀作用，用于生成更加真实和详细的地形模拟.这种算法通过模拟雨水的降落、流动、蒸发以及与地面的相互作用，来改变地形的高度，从而创建河流、山谷和其他侵蚀特征.水力侵蚀算法可以使计算机生成的地形看起来更加自然和逼真.

    使用此算法，您需要提供地图长、宽，随机种子，以及迭代次数T.程序会根据T的值，对地图进行不同次数的侵蚀模拟，以达到更逼真的效果.

## Project Division
    本项目在小组三人的通力协作下进行.下面是具体的分工.

### Lu
    组长陆**完成了项目的基本框架和部分算法.他实现了本项目使用的Value Noise算法、Hydraulic Erosion算法，完成了基本类的构造、设置了可用的API、创建了基本的UI，并实现了bmp文件的读写、obj文件的生成、obj到mesh文件的转换，且使用占项目代码量较少的QML语言完成了3D可视化引擎的制作.他还完成了对其他组员代码的校对工作.
    组长还完成了最后的审阅工作，并录制操作、讲解视频，最后提交项目文件至助教处.

### Fan
    组员范**为项目提出了许多宝贵的建议.他完成了UI的最终美化，并为项目撰写了Slides，取得了较好的展示效果.

### Zhang
    组员张**在组长陆**的工作的基础上，解决了程序的环境依赖问题，提出了可行、轻量且稳定的项目构建方案，使得项目在各Windows计算机可复现.张**还完成了Perlin Noise算法，MidPoint Displacement算法的设计、整合，并协助组长陆**完成了Hydraulic Erosion算法代码向本项目的整合.

## Thanks
    本项目的成功实现离不开各位老师和助教的指导与栽培，在这里表示特别鸣谢.
